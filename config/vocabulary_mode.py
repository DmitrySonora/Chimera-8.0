# ========================================
# ОПРЕДЕЛЕНИЕ РЕЖИМОВ ОБЩЕНИЯ
# ========================================

# === СЛОВАРЬ ===

MODE_DETECTION_CONFIG = {
    
    # Мин. длина текста для определения режима
    "min_text_length": 5,
    
    # Веса для подсчета очков режимов
    "mode_weights": {
        "expert": 1.2,
        "creative": 1.2,  # Выше приоритет
        "talk": 0.6       # Ниже приоритет
    },
    
    # Бонус для вопросительных слов
    "question_bonus": 0.7,
    
    # Множитель уверенности при стабильной истории
    "stable_history_multiplier": 1.5,
    
    
    # ПРОСТЕЙШИЙ АВАРИЙНЫЙ СЛОВАРЬ
    
    "expert_patterns": [
        'объясни', 'проанализируй', 'как работает'
    ],
    
    "creative_patterns": [
        'придумай', 'сочини', 'напиши сцену', 'создай'
    ],
    
    "talk_patterns": [
        'привет', 'как дела', 'настроение', 'чувствую',
        'скучно', 'грустно', 'весело'
    ],
    
    "question_words": ['как?', 'почему?', 'что?', 'зачем?'],
    
    
    
    # ТЕКУЩИЙ РАБОЧИЙ СЛОВАРЬ

    # Контекстные паттерны для точного определения режимов
    "contextual_patterns": {
        "expert": {
            # Уровень 1: Точные фразы (максимальный приоритет)
            "exact_phrases": [
                "объясни как работает",
                "объясни устройство",
                "объясни принцип",
                "проанализируй почему",
                "как устроен",
                "почему происходит",
                "в чем причина",
                "механизм работы",
                "научное объяснение",
                "технические детали",
                "алгоритм работы",
                "физика процесса",
                "математическое обоснование"
            ],
            
            # Уровень 2: Контекстные слова с модификаторами
            "contextual_words": {
                "объясни": {
                    "enhancers": ["устройство", "работает", "принцип", "механизм", "алгоритм", "процесс", "технология"],
                    "suppressors": ["почему мне", "почему я", "почему так", "зачем мне", "что со мной"]
                },
                "расскажи": {
                    "enhancers": ["теория", "наука", "исследование", "открытие", "формула", "закон"],
                    "suppressors": ["историю", "сказку", "про себя", "о себе", "анекдот"]
                },
                "настроение": {
                    "enhancers": ["рынка", "экономики", "индекса", "биржи", "акций", "валюты"],
                    "suppressors": ["твое", "мое", "какое у", "испортилось", "хорошее", "плохое"]
                },
                "анализ": {
                    "enhancers": ["данных", "статистики", "результатов", "показателей", "метрик"],
                    "suppressors": ["чувств", "эмоций", "отношений", "поведения"]
                }
            },
            
            # Уровень 3: Доменные маркеры
            "domain_markers": [
                "квантовый", "нейронный", "алгоритм", "формула", "теорема",
                "гипотеза", "эксперимент", "исследование", "статистика", "корреляция",
                "функция", "переменная", "константа", "уравнение", "матрица",
                "вектор", "градиент", "производная", "интеграл", "вероятность",
                "распределение", "выборка", "дисперсия", "медиана", "квартиль",
                "молекула", "атом", "электрон", "протон", "нейтрон",
                "генетика", "днк", "рнк", "белок", "клетка"
            ]
        },
        
        "creative": {
            # Уровень 1: Точные фразы
            "exact_phrases": [
                "придумай историю",
                "сочини сказку",
                "напиши рассказ",
                "напиши сцену",
                "создай персонажа",
                "представь что",
                "фантазия на тему",
                "творческое задание",
                "литературный этюд",
                "поэтический образ",
                "метафора для",
                "аллегория о",
                "художественное описание"
            ],
            
            # Уровень 2: Контекстные слова
            "contextual_words": {
                "придумай": {
                    "enhancers": ["сцену", "историю", "сказку", "рассказ", "легенду", "миф", "сюжет", "персонажа"],
                    "suppressors": ["способ", "метод", "решение", "алгоритм", "формулу"]
                },
                "напиши": {
                    "enhancers": ["сцену", "стихи", "прозу", "сценарий", "диалог", "монолог", "эссе", "новеллу"],
                    "suppressors": ["код", "формулу", "уравнение", "инструкцию", "документацию", "мне", "когда", "если"]
                },
                "создай": {
                    "enhancers": ["образ", "мир", "вселенную", "персонажа", "атмосферу", "настроение"],
                    "suppressors": ["таблицу", "график", "схему", "диаграмму", "отчет"]
                }
            },
            
            # Уровень 3: Доменные маркеры
            "domain_markers": [
                "герой", "персонаж", "сюжет", "кульминация", "развязка",
                "метафора", "эпитет", "олицетворение", "гипербола", "литота",
                "рифма", "ритм", "строфа", "куплет", "припев",
                "фантастический", "волшебный", "сказочный", "мифический", "легендарный",
                "дракон", "единорог", "фея", "волшебник", "заклинание",
                "приключение", "путешествие", "квест", "загадка", "тайна"
            ]
        },
        
        "talk": {
            # Уровень 1: Точные фразы
            "exact_phrases": [
                "как дела",
                "как настроение",
                "что нового",
                "мне грустно",
                "мне весело",
                "я чувствую",
                "поговорим о",
                "хочу поделиться",
                "нужен совет",
                "что думаешь",
                "твое мнение",
                "просто поболтать"
            ],
            
            # Уровень 2: Контекстные слова
            "contextual_words": {
                "объясни": {
                    "enhancers": ["почему мне", "почему я", "что со мной", "мои чувства", "мое состояние"],
                    "suppressors": ["механизм", "принцип", "устройство", "алгоритм", "формулу"]
                },
                "напиши": {
                    "enhancers": ["мне", "когда", "если", "будет время", "сможешь", "освободишься"],
                    "suppressors": ["код", "рассказ", "стихи", "формулу", "отчет", "историю", "сказку"]
                },
                "настроение": {
                    "enhancers": ["твое", "мое", "какое", "хорошее", "плохое", "так себе"],
                    "suppressors": ["рынка", "биржи", "индекса", "показателя"]
                }
            },
            
            # Уровень 3: Доменные маркеры
            "domain_markers": [
                "чувствую", "ощущаю", "переживаю", "волнуюсь", "радуюсь",
                "грущу", "скучаю", "мечтаю", "надеюсь", "боюсь",
                "друг", "подруга", "близкий", "родной", "любимый",
                "отношения", "дружба", "любовь", "привязанность", "симпатия",
                "поддержка", "понимание", "сочувствие", "эмпатия", "забота"
            ]
        }
    }
}